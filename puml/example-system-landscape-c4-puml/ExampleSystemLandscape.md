# Пример диаграммы системного ландшафта PlantUML

![image](../out/ExampleSystemLandscape.svg)

На диаграмме показаны системы и взаимодействие между ними. Взаимодействие между системами реализовано с помощью интеграционных потоков, которые проходят через шину данных. Шина данных получает сообщение от системы-источника, ставит его в очередь сообщений и отправляет в систему-приемник (через встроенный в шину брокер сообщений). Маршрутизацию и преобразование данных сообщения берет на себя шина данных.

Диаграмма разделена на два контура: в рамках контура системного ландшафта предприятия находятся системы, расположенные в основной сети предприятия. В рамках контура "удаленные филиалы" находятся системы, находящиеся физически в других офисах (и, соответственно, других сетях). Взаимодействие между контурами также реализовано с помощью шины данных: она отправляет сообщение локальной шине, которая находится внутри одного офиса, по HTTPS. Локальная шина, в свою очередь, переадресовывает сообщение в нужную систему. Взаимодействие систем внутри филиала так же реализовано с помощью локальной шины.

Системы, которые вынесены за системный ландшафт предприятия являются внешними.

Направления стрелок на схеме показывают направления интеграционных потоков. Они могут быть: входящими, исходящими и двусторонними. Пунктирные стрелки обозначают файловый обмен. Обычные стрелки - HTTP-запрос (REST или SOAP). Текстом на стрелках указан протокол передачи данных, если он требует уточнения. Картинка на стрелке показывает вариант инициализации:
  - Часы - по регламентному заданию;
  - Человек - вручную пользователем;
  - Отсутствие картинки говорит о том, что поток инициализируется по событию (например, при проведении документа).

Системы на диаграмме выделены в группы, которые обладают разными цветами, описание которых указано в правом нижнем углу в легенде:
  1) `#1168BD` - цвет системы по умолчанию;
  2) `#FAE764` - цвет системы 1С, находящейся в основной сети предприятия;
  3) `#E0CD48` - цвет системы 1С, находящейся в сети филиала предприятия;
  4) `#402294` - цвет шины данных;
  5) `#34756A` - цвет системы SAP;
  6) `#8A8A8A` - цвет файловой системы (локальной папки, папки в сети, каталога FTP/SFTP-сервера);
  7) `#999999` - цвет внешней системы

Диаграмма использует переопределенные стили, которые описаны в файле *StylesCommon.puml*, импорт которого осуществлен через `!include ./StylesCommon.puml`